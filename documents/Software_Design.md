# 软件设计文档

## Part 1: 概况

### 1.1 技术选型
1. 在后端，我们使用javascript作为我们的开发语言，使用nodejs的express作为网络框架。这是因为express有着足够成熟的社区且易于开发使用。
2. 在客户端，我们使用Java作为Android的开发语言，网络框架我们使用了Volley，原因是Volley适用于进行数据量不大，但通信频繁的网络操作，而我们的app恰好满足这一点。
3. 图片加载组件，我们则使用了Fresco，Fresco具有内存管理的功能，在图片加载,呈现上都有良好的效果。


### 1.3 模块分区
我们使用 Model–view–controller (MVC) 因为它模块化代码并促进代码重用。

#### Model
模型是指数据模型，或某种类型的数据结构。例如，在本应用中，“模型”将包含用户数据（用户名，密码......）的列表和用户发出的文档信息。

#### View
View模块主要用于向查看者显示页面。
我们通过Java中的布局文件构建View，用于数据的展示。

#### Controller
Controller这部分则是由nodejs的express框架来实现，通过配置handler和路由，将不同的请求导向各个函数，再而进行处理。

## Part 2: 技术列表
### 2.1 Structure Programming
由于我们所使用的开发语言为Java和Javascript，这两门语言都是面向对象的语言，所以涉及的面向过程的部分会比较少。

### 2.2 Object-Oriented Programming
#### Entity
我们的项目主要包括了两个实体类
其一是用户实体，其二是用户所发布的租赁信息实体。
在关系上，每个用户可能发布多个Post，每个用户可以看到所有的Post

#### Dao/DaoImpl
在我们的项目中，我们为每个实体类封装了相应的数据库访问类。
这些类在接口实现模型中实现。
每个类都封装了访问数据库对象的各种方法，这使得调用服务类变得容易。

### 2.5 设计模式
#### MVC 模式

在我们的项目中，MVC是我们最重要的设计模式。
从架构设计中可以看出，它在项目中起着重要作用。
每个部分都有相应的代码实现。
模型层主要包括实体，dao和服务类。
视图层主要由前端实现，包括js，html和css。
控制器层及其关联的控制器类放在控制器文件夹中。


### 2.6 服务器端
#### Nodejs
Node.js 是一个能够在服务器端运行 JavaScript 的 开放源代码、跨平台 JavaScript Node.js 采用 Google 开发的 V8运行代码，使用 事件驱动、非阻塞 和 异步输入输出 模型等技术来提高性能，可优化应用程序的传输量和规模。这些技术通常用于数据密集的实时应用程序。

Nodejs充分发挥事件回调机制，使得服务能够承受更大的压力。


#### 请求逻辑
我们通过设置Session保存一个用户的登陆信息，在新用户访问时则会为他创建一个账号。
在主页面，客户端调用后台api，我们在服务端为用户调取所有的Post并向其展示。
在nodejs中，这种调用经过路由解析到了某个handler后，向数据库查询数据记录，当获得结果后，通过事件响应的方式返回。
在这种情况下，如果每次查询的时间很长，也会将压力给到数据库服务器上，而不会增加node服务器的压力。

#### 优势:
1. 采用事件驱动、异步编程，为网络服务而设计。其实Javascript的匿名函数和闭包特性非常适合事件驱动、异步编程。而且JavaScript也简单易学，很多前端设计人员可以很快上手做后端设计。  
2. Node.js非阻塞模式的IO处理给Node.js带来在相对低系统资源耗用下的高性能与出众的负载能力，非常适合用作依赖其它IO资源的中间层服务。
3. Node.js轻量高效，可以认为是数据密集型分布式部署环境下的实时应用系统的完美解决方案。Node非常适合如下情况：在响应客户端之前，您预计可能有很高的流量，但所需的服务器端逻辑和处理不一定很多。
4. 1、RESTful API提供RESTful API的Web服务接收几个参数，解析它们，组合一个响应，并返回一个响应（通常是较少的文本）给用户。这是适合Node的理想情况，因为您可以构建它来处理数万条连接。它仍然不需要大量逻辑；它本质上只是从某个数据库中查找一些值并将它们组成一个响应。由于响应是少量文本，入站请求也是少量的文本，因此流量不高，一台机器甚至也可以处理最繁忙的公司的API需求。

## Part 3: 可扩展性和可维护性分析
### 可扩展性
我们项目具有不错的扩展性。例如，如果我们要向项目添加实体类，当前的项目结构都可以方便地完成操作。只需定义好新实体与旧实体之间的关系即可。
其次，在服务类中实现实体类访问的实现或添加相应的服务类来完成项目的扩展。

### 可维护性
我们项目中的数据主要是由一张张的表来维护，在维护方面也主要是对数据的维护，因为本身项目的数据定义比较简洁，数据之间耦合不多，所以方便维护。

	
